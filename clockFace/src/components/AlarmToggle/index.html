<!DOCTYPE html>
<html>

<body>
        <div id="clock" class="clock">loading ...</div>
  <button type="button" onclick="startAlarm()">Start Alarm</button>
  <button type="button" onclick="stopAlarm()">Stop Alarm</button>
  <button type="button" onclick="toggleLight()">Toggle Light</button>
  <audio  id="sound" controls loop hidden>
   <source src="https://www.w3schools.com/html/horse.mp3" type="audio/mpeg">
  </audio>
  <img id="light" src="" alt="">
</body>

<!-- css -->
<!-- body {
  font-family: 'liquid_crystalregular', sans-serif;
  user-select: none;
  user-drag: none;
}

.clock {
  height: 100px;
  width: 70%;
  line-height: 100px;  
  margin: 150px auto 0;
  padding: 0 50px;
  background: #222;
  color: #eee;
  text-align: center;
  border-radius: 15px;
  box-shadow: 0 0 7px #222;
  text-shadow: 0 0 3px #fff;
} -->

<script type="text/javascript">

$('#clock').fitText(1.3);

function update() {
  $('#clock').html(moment().format('ddd h:mm a'));
}

setInterval(update, 1000);

let alarmOn = false
let lightOn = false

function startAlarm() {
  let checkLight = setInterval(function(){
    if (!lightOn) {
      alarmOn = true
      console.log('alarm is running')
      document.getElementById("sound").play()
    }
    else {
      stopAlarm()
      clearInterval(checkLight)
    }
  }, 1000)
}

function stopAlarm() {
  alarmOn = false
  console.log("stop alarm")
  document.getElementById("sound").pause()
}

function toggleLight() {
  if (lightOn) {
    lightOn = false
    document.getElementById("light").src =""
  }
  else {
    lightOn = true
    document.getElementById("light").src = "https://tinyurl.com/ydhv7uu3"
  }
  console.log(lightOn)
}

</script>
</html>